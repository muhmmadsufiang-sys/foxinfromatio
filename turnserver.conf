# CoTURN Configuration File
# /etc/turnserver.conf

# Listening ports
listening-port=3478
tls-listening-port=5349

# External IP address (replace with your server's public IP)
external-ip=YOUR_PUBLIC_IP

# Relay IP address
relay-ip=YOUR_PUBLIC_IP

# Use authentication secret
use-auth-secret
static-auth-secret=YOUR_SECRET_KEY_HERE

# Realm (replace with your domain)
realm=yourserver.com

# SSL certificates (for TURNS)
cert=/etc/letsencrypt/live/yourserver.com/cert.pem
pkey=/etc/letsencrypt/live/yourserver.com/privkey.pem

# Logging
log-file=/var/log/turnserver.log
verbose

# Security settings
no-multicast-peers
no-cli
no-tlsv1
no-tlsv1_1
fingerprint

# Performance settings
max-bps=1000000
user-quota=12
total-quota=1200

# Relay ports range
min-port=49152
max-port=65535

# Database (optional)
userdb=/var/lib/turn/turndb

# Additional security
denied-peer-ip=0.0.0.0-0.255.255.255
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.168.0.0-192.168.255.255

# Allow loopback for testing
allowed-peer-ip=127.0.0.1